
<mat-tab-group>
    <mat-tab [label]="'#LDS#Heading Main Data' | translate">
      <ng-template matTabContent>
        <div eui-sidesheet-content class="governance-sidesheet__tab-content">
          <div class="governance-sidesheet__tab-content-body">
            
            <mat-card class="imx-tab-card">
              <div *ngIf="checkerrores">
                <eui-alert type="error" condensed="true" [colored]="true" >
                  <span> {{this.errormsg}}</span>
                </eui-alert>
                <p></p>
              </div>
              <div *ngIf="checkdominio">
                <eui-alert type="error" condensed="true" [colored]="true" >
                  <span> No puede dar de alta direcciones en el dominio indicado. Por favor, corrija la direcci√≥n.</span>
                </eui-alert>
                <p></p>
              </div>              
              <form [formGroup]="detailsFormGroup">            
                <imx-cdr-editor *ngFor="let cdr of cdrList" [cdr]="cdr" (controlCreated)="formArray.push($event)" (valueChange)="checkValues(cdr)"> </imx-cdr-editor> 
              </form>
        
              <mat-form-field appearance="outline" *ngIf="data.soyAdminEPR">
                <mat-label>Seleccione licencia</mat-label>
                
                <mat-select  placeholder="" [(ngModel)]="licseleccionada" name="licencias" (selectionChange)="cambiolic($event.value)">
                  <mat-option *ngFor ="let licencia of data.licencias" [value]="licencia">
                    {{licencia}}
                  </mat-option>
                </mat-select>
                <button mat-button *ngIf="licseleccionada" matSuffix mat-icon-button aria-label="Eliminar" 
                  (click)="licseleccionada=undefined">
                <mat-icon>close</mat-icon>
                </button>
              </mat-form-field>
            </mat-card>
          
          </div>
          <div eui-sidesheet-actions>
            
            <button mat-button (click)="cancel()">
              <span translate>#LDS#Cancel</span>
            </button>
            <button mat-flat-button color="primary" (click)="save()" [disabled]="detailsFormGroup.pristine || detailsFormGroup.invalid || emailDuplicado">
              <span translate>#LDS#Save</span>
            </button>
          </div>
        </div>
      </ng-template>
    </mat-tab>  
    
  </mat-tab-group>
  

