<mat-card class="data-explorer data-explorer--accounts">

    <div  *ngIf="!dataExplorerFilters.showTsSyncStatus" class="data-explorer-card-header">
      <div class="data-explorer-card-header-bg">
        Cuentas de correo electrónico
        <imx-help-contextual [contextId]="contextId"></imx-help-contextual>
      </div>
    </div>
  
    <imx-data-source-toolbar #dst
      [settings]="dstSettings"
      [options]="['search', 'sort']"
      [hiddenFilters]="['namespace']"
      [busyService]="busyService"
      [searchBoxText]="'#LDS#Search' | translate"
      (navigationStateChanged)="onNavigationStateChanged($event)"
      (filterTreeSelectionChanged)="filterByTree($event)"
      (search)="onSearch($event)"
      (customSelectedFilterRemoved)="dataExplorerFilters.onCustomFilterClearedExternally($event)"
      (updateConfig)="updateConfig($event)" (deleteConfigById)="deleteConfigById($event)">
      <div imx-data-source-toolbar-custom-filter (click)="$event.stopPropagation()">
        <imx-target-system-filter #dataExplorerFilters
        [targetSystemData]="targetSystemData"
        (selectedFiltersChanged)="onNavigationStateChanged()"
        [dst]="dst"
        [treeDbWrapper]="treeDbWrapper"></imx-target-system-filter>
      </div>
    </imx-data-source-toolbar>
  
    <div *ngIf="dataExplorerFilters.showTsSyncStatus">
        <imx-data-explorer-no-data [mode]="dataExplorerFilters.tsIssueMode"></imx-data-explorer-no-data>
    </div>
  
    <eui-alert class="sync-status-alert" type="info" condensed="true" [colored]="true" *ngIf="dataExplorerFilters.showTsSyncAlert">
      <span translate>#LDS#There is currently no data synchronization configured for the selected domain.</span>
    </eui-alert>
  
    <div (hidden)="this.algunerror=true" class="imx-data-explorer-content" >
      <div class="data-explorer-table">
        <imx-data-table [dst]="dst" (highlightedEntityChanged)="onAccountChanged($event)" detailViewVisible="false"
          mode="manual">
          
          <imx-data-table-column width="500px" [entityColumn]="entitySchemaGAPAccount?.Columns.PrimaryEmail">
            <ng-template let-item>
              <div [style.max-width]="'500px'" class="imx-ellipse-column">{{item.GetEntity().GetColumn("PrimaryEmail").GetDisplayValue()}}</div>
            </ng-template>
          </imx-data-table-column>
                   
          <imx-data-table-column width="500px" [entityColumn]="entitySchemaGAPAccount?.Columns.UID_Person">
            <ng-template let-item>
              <div [style.max-width]="'500px'" class="imx-ellipse-column">{{item.GetEntity().GetColumn("UID_Person").GetDisplayValue()}}</div>
            </ng-template>
          </imx-data-table-column>
          
          <imx-data-table-generic-column columnName="CCC_EspacioMb" columnLabel="Ocupación (Gb)">
            <ng-template let-item>
              <div  [style.max-width]="'500px'" class="imx-ellipse-column">{{item.GetEntity().entityData.Columns.CCC_EspacioMb.Value / 1024 | number:'1.0-0'}}</div>
            </ng-template>
          </imx-data-table-generic-column>
          
          <imx-data-table-generic-column columnName="CCC_LicenciaWorkspace" columnLabel="Licencia Asignada">
            <ng-template let-item>
              <div  [style.max-width]="'500px'" class="imx-ellipse-column">{{item.GetEntity().entityData.Columns.CCC_LicenciaWorkspace.Value}}</div>
            </ng-template>
          </imx-data-table-generic-column>
          
          <imx-data-table-generic-column  width="500px" columnName="CreationTime" columnLabel="Fecha de creación">
            <ng-template let-item>
              <div  [style.max-width]="'500px'" class="imx-ellipse-column">{{item.GetEntity().entityData.Columns.CreationTime.Value | date: 'dd-MM-yyyy'}}</div>
            </ng-template>
          </imx-data-table-generic-column>
          
          <imx-data-table-generic-column width="500px" columnName="CCC_UltimaConexion" columnLabel="Ultimo acceso">
            <ng-template let-item>
              <div [style.max-width]="'500px'" class="imx-ellipse-column">{{item.GetEntity().entityData.Columns.CCC_UltimaConexion.Value | date: 'dd-MM-yyyy'}}</div>
            </ng-template>
          </imx-data-table-generic-column>
          

          
          
        </imx-data-table>
        <imx-data-source-paginator [dst]="dst"></imx-data-source-paginator>
      </div>
    </div>
  
  </mat-card>
  <div  class="data-explorer-bottom-button-row" >
    <button  mat-stroked-button data-imx-identifier="accounts-button-show-report-for-targetsystem" (click)="openReportOptionsSidesheet()">
      <eui-icon icon="reports"></eui-icon>
      Crear cuenta 
    </button>
  </div>
  
