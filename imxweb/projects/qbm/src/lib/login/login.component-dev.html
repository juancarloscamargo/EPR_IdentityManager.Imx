<div class="imx-loginPage">
  <div class="imx-loginFormcontainer">
    <div>
      <img class="custom-logo" src="assets/logo_grande_azul.png">
    </div>
    <div>
      <img class="custom-logo" src="assets/gestiondeidentidades_externo.png">
    </div>
    <imx-usermessage class="usermessage" panelClass="imx-small-message"></imx-usermessage>
    <div *ngIf="sessionState?.isOAuth;else loginMask" class="imx-loginButtonpanel">
      <button data-imx-identifier="logout-oauth-button" mat-button type="button" class="imx-button"
        (click)="logoutOAuth()">{{'#LDS#OAuth logout' | translate }}</button>
    </div>

    <ng-template imxExtd></ng-template>

    <ng-template #loginMask>
      <div class="imx-loginMask">
        <div *ngIf="sessionState?.IsLoggedOut" class="imx-loginData">
          <div [hidden] *ngIf="configurationProviders" class="imx-loginInput">
            <mat-form-field>
              <mat-select data-imx-identifier="login-select-auth-provider"
                placeholder="Seleccione método de autenticación" [(ngModel)]="selectedConfigProvider"
                (selectionChange)="onSelectAuthConfig()">
                <mat-option *ngFor="let authConfig of configurationProviders" [value]="authConfig"
                  [attr.data-imx-identifier]="'login-option-auth-provider' + authConfig.name">
                  {{ authConfig.display | translate }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div [hidden]="selectedConfigProvider?.isOAuth2" *ngFor="let authProp of selectedConfigProvider?.authProps"
            class="imx-loginInput">
            <input attr.data-imx-identifier="login-input-{{ authProp.name.toLowerCase() }}" [type]="authProp.inputType"
              [placeholder]="authProp.display" [(ngModel)]="loginData[authProp.name]" (keyup.enter)="login()"
              class="imx-login-input" />
          </div>
          <div [hidden] class="imx-loginButtonpanel" *ngIf="!selectedConfigProvider?.customAuthFlow">
            <button data-imx-identifier="login-button-submit" mat-button type="button" class="imx-button"
              (click)="login()">{{'#LDS#Log in' | translate }}</button>
              
          </div>
          
        </div>
        
        <div class="usermessage">
          <br>Por su seguridad, el acceso a esta web sólo está permitido a cuentas protegidas del dominio Eprinsa. Haga click en el icono para acceder
          <br>
          <br>
          <img class="centrado" src="assets/cordoba-email.png" height="50" size="75"  (click)="loginCordobaemail()"> 
        </div>
        <div *ngIf="sessionState?.IsAwaitingSecondaryAuth">
          <imx-2fahost></imx-2fahost>
        </div>
        
        
        <div *ngIf="sessionState?.IsAwaitingSecondaryAuth">
          <imx-2fahost></imx-2fahost>
        </div>
        <div class="usermessage">
          <br>
          <br>¿Necesita cambiar o recuperar su contraseña? Haga clic <a href="https://identidades.eprinsa.es/portal">aquí</a>
        </div>
      
      </div>
    </ng-template>
  </div>
  
</div>
<div class="imx-loginFooter">
  <br>Eprinsa. C/ Manuel María de Arjona, nº 1, 14001, Córdoba. CIF: A14237291
</div>


